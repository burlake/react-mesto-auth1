{"ast":null,"code":"import _defineProperty from\"/Users/elizavetaburlakova/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/elizavetaburlakova/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/elizavetaburlakova/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useState}from\"react\";function useFormValidation(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isValid=_useState6[0],setIsValid=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),isInputValid=_useState8[0],setIsInputValid=_useState8[1];function handleChange(event){var name=event.target.name;var value=event.target.value;var validationMessage=event.target.validationMessage;var valid=event.target.validity.valid;var form=event.target.form;//воспринимает как 2 разных инпута = 2 разные форма - откладываю\n//console.log(form)\nsetValues(function(oldValues){return _objectSpread(_objectSpread({},oldValues),{},_defineProperty({},name,value));});setError(function(oldErrors){return _objectSpread(_objectSpread({},oldErrors),{},_defineProperty({},name,validationMessage));});setIsValid(form.checkValidity());setIsInputValid(function(oldIsInputValid){return _objectSpread(_objectSpread({},oldIsInputValid),{},_defineProperty({},name,valid));});}function reset(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};setValues(data);setError({});setIsValid(false);setIsInputValid({});}var setValue=useCallback(function(name,value){setValues(function(oldValues){return _objectSpread(_objectSpread({},oldValues),{},_defineProperty({},name,value));});},[]);return{values:values,errors:errors,isValid:isValid,isInputValid:isInputValid,handleChange:handleChange,reset:reset,setValue:setValue};}export default useFormValidation;","map":{"version":3,"names":["useCallback","useState","useFormValidation","_useState","_useState2","_slicedToArray","values","setValues","_useState3","_useState4","errors","setError","_useState5","_useState6","isValid","setIsValid","_useState7","_useState8","isInputValid","setIsInputValid","handleChange","event","name","target","value","validationMessage","valid","validity","form","oldValues","_objectSpread","_defineProperty","oldErrors","checkValidity","oldIsInputValid","reset","data","arguments","length","undefined","setValue"],"sources":["/Users/elizavetaburlakova/Desktop/dev/mesto-react/src/utils/useFormValidation.js"],"sourcesContent":["import { useCallback, useState } from \"react\";\n\nfunction useFormValidation () {\n    const [values, setValues] = useState({})\n    const [errors, setError] = useState ({})\n    const [isValid, setIsValid] = useState(false)\n    const [isInputValid, setIsInputValid] = useState({})\n\n    \n\n    function handleChange (event) {\n        const name = event.target.name\n        const value = event.target.value\n        const validationMessage = event.target.validationMessage\n        const valid = event.target.validity.valid\n        const form = event.target.form  //воспринимает как 2 разных инпута = 2 разные форма - откладываю\n\n        //console.log(form)\n\n        setValues((oldValues) => {\n            return { ...oldValues, [name]: value}\n        })\n\n        setError((oldErrors) => {\n            return { ...oldErrors, [name]: validationMessage}\n        })\n\n        setIsValid(form.checkValidity())\n\n        setIsInputValid((oldIsInputValid) => {\n            return { ...oldIsInputValid, [name]: valid}\n        })\n\n    }\n\n function reset (data = {}) {\n    setValues (data)\n    setError ({})\n    setIsValid (false)\n    setIsInputValid ({})\n }\n\n const setValue = useCallback ((name, value) => {\n    setValues((oldValues) => {\n        return { ...oldValues, [name]: value}\n    })\n }, [])\n\n    return { values, errors, isValid, isInputValid, handleChange, reset, setValue }\n\n}\n\nexport default useFormValidation"],"mappings":"sZAAA,OAASA,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CAE7C,QAAS,CAAAC,iBAAiBA,CAAA,CAAI,CAC1B,IAAAC,SAAA,CAA4BF,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA2BP,QAAQ,CAAE,CAAC,CAAC,CAAC,CAAAQ,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACvB,IAAAG,UAAA,CAA8BX,QAAQ,CAAC,KAAK,CAAC,CAAAY,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,IAAAG,UAAA,CAAwCf,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAgB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAIpC,QAAS,CAAAG,YAAYA,CAAEC,KAAK,CAAE,CAC1B,GAAM,CAAAC,IAAI,CAAGD,KAAK,CAACE,MAAM,CAACD,IAAI,CAC9B,GAAM,CAAAE,KAAK,CAAGH,KAAK,CAACE,MAAM,CAACC,KAAK,CAChC,GAAM,CAAAC,iBAAiB,CAAGJ,KAAK,CAACE,MAAM,CAACE,iBAAiB,CACxD,GAAM,CAAAC,KAAK,CAAGL,KAAK,CAACE,MAAM,CAACI,QAAQ,CAACD,KAAK,CACzC,GAAM,CAAAE,IAAI,CAAGP,KAAK,CAACE,MAAM,CAACK,IAAI,CAAE;AAEhC;AAEArB,SAAS,CAAC,SAACsB,SAAS,CAAK,CACrB,OAAAC,aAAA,CAAAA,aAAA,IAAYD,SAAS,KAAAE,eAAA,IAAGT,IAAI,CAAGE,KAAK,GACxC,CAAC,CAAC,CAEFb,QAAQ,CAAC,SAACqB,SAAS,CAAK,CACpB,OAAAF,aAAA,CAAAA,aAAA,IAAYE,SAAS,KAAAD,eAAA,IAAGT,IAAI,CAAGG,iBAAiB,GACpD,CAAC,CAAC,CAEFV,UAAU,CAACa,IAAI,CAACK,aAAa,CAAC,CAAC,CAAC,CAEhCd,eAAe,CAAC,SAACe,eAAe,CAAK,CACjC,OAAAJ,aAAA,CAAAA,aAAA,IAAYI,eAAe,KAAAH,eAAA,IAAGT,IAAI,CAAGI,KAAK,GAC9C,CAAC,CAAC,CAEN,CAEH,QAAS,CAAAS,KAAKA,CAAA,CAAa,IAAX,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACtB9B,SAAS,CAAE6B,IAAI,CAAC,CAChBzB,QAAQ,CAAE,CAAC,CAAC,CAAC,CACbI,UAAU,CAAE,KAAK,CAAC,CAClBI,eAAe,CAAE,CAAC,CAAC,CAAC,CACvB,CAEA,GAAM,CAAAqB,QAAQ,CAAGxC,WAAW,CAAE,SAACsB,IAAI,CAAEE,KAAK,CAAK,CAC5CjB,SAAS,CAAC,SAACsB,SAAS,CAAK,CACrB,OAAAC,aAAA,CAAAA,aAAA,IAAYD,SAAS,KAAAE,eAAA,IAAGT,IAAI,CAAGE,KAAK,GACxC,CAAC,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEH,MAAO,CAAElB,MAAM,CAANA,MAAM,CAAEI,MAAM,CAANA,MAAM,CAAEI,OAAO,CAAPA,OAAO,CAAEI,YAAY,CAAZA,YAAY,CAAEE,YAAY,CAAZA,YAAY,CAAEe,KAAK,CAALA,KAAK,CAAEK,QAAQ,CAARA,QAAS,CAAC,CAEnF,CAEA,cAAe,CAAAtC,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}